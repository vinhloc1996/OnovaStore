@model dynamic
@{
    Layout = "_Layout";
    ViewBag.Title = "Cart";
    var imgUrl = "http://res.cloudinary.com/vinhloc1996/image/upload/";
    var totalPrice = 0.0;
    var tax = 0.0;
    var discount = 0.0;
    var shippingFee = 0.0;
    var subTotal = 0.0;
    var promotionCode = "";
    var totalQuantity = 0;
}
@if (Model == null)
{
    <div class="container text-center g-py-100">
        <div class="mb-5">
            <span class="d-block g-color-gray-light-v1 g-font-size-70 g-font-size-90--md mb-4">
                <i class="icon-hotel-restaurant-105 u-line-icon-pro"></i>
            </span>
            <h2 class="g-mb-30">Your Cart is Currently Empty</h2>
            <p>Before proceed to checkout you must add some products to your shopping cart.<br>You will find a lot of interesting products on our "Shop" page.</p>
        </div>
        <a class="btn u-btn-primary g-font-size-12 text-uppercase g-py-12 g-px-25" href="@Url.Action("Index", "Home")">Start Shopping</a>
    </div>
}
else
{
    <!-- Checkout Form -->
    <div class="container g-pt-100 g-pb-70">
    <form class="js-validate js-step-form" data-progress-id="#stepFormProgress" data-steps-id="#stepFormSteps">
    <div class="g-mb-100">
        <!-- Step Titles -->
        <ul id="stepFormProgress" class="js-step-progress row justify-content-center list-inline text-center g-font-size-17 mb-0">
            <li class="col-3 list-inline-item g-mb-20 g-mb-0--sm">
                <span class="d-block u-icon-v2 u-icon-size--sm g-rounded-50x g-brd-primary g-color-primary g-color-white--parent-active g-bg-primary--active g-color-white--checked g-bg-primary--checked mx-auto mb-3">
                    <i class="g-font-style-normal g-font-weight-700 g-hide-check">1</i>
                    <i class="fa fa-check g-show-check"></i>
                </span>
                <h4 class="g-font-size-16 text-uppercase mb-0">Shopping Cart</h4>
            </li>
            <li class="col-3 list-inline-item g-mb-20 g-mb-0--sm">
                <span class="d-block u-icon-v2 u-icon-size--sm g-rounded-50x g-brd-gray-light-v2 g-color-gray-dark-v5 g-brd-primary--active g-color-white--parent-active g-bg-primary--active g-color-white--checked g-bg-primary--checked mx-auto mb-3">
                    <i class="g-font-style-normal g-font-weight-700 g-hide-check">2</i>
                    <i class="fa fa-check g-show-check"></i>
                </span>
                <h4 class="g-font-size-16 text-uppercase mb-0">Shipping</h4>
            </li>
            <li class="col-3 list-inline-item">
                <span class="d-block u-icon-v2 u-icon-size--sm g-rounded-50x g-brd-gray-light-v2 g-color-gray-dark-v5 g-brd-primary--active g-color-white--parent-active g-bg-primary--active g-color-white--checked g-bg-primary--checked mx-auto mb-3">
                    <i class="g-font-style-normal g-font-weight-700 g-hide-check">3</i>
                    <i class="fa fa-check g-show-check"></i>
                </span>
                <h4 class="g-font-size-16 text-uppercase mb-0">Payment &amp; Review</h4>
            </li>
        </ul>
        <!-- End Step Titles -->
    </div>
    <div id="stepFormSteps">
    <!-- Shopping Cart -->
    <div id="step1" class="active">
        <div class="row">
            <div class="col-md-8 g-mb-30">
                <!-- Products Block -->
                <div class="g-overflow-x-scroll g-overflow-x-visible--lg">
                    <table class="text-center w-100">
                        <thead class="h6 g-brd-bottom g-brd-gray-light-v3 g-color-black text-uppercase">
                        <tr>
                            <th class="g-font-weight-400 text-left g-pb-20">Product</th>
                            <th class="g-font-weight-400 g-width-130 g-pb-20">Price</th>
                            <th class="g-font-weight-400 g-width-50 g-pb-20">Qty</th>
                            <th class="g-font-weight-400 g-width-130 g-pb-20">Total</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        @foreach (var cart in Model)
                        {
                            subTotal = cart.displayPrice;
                            tax = cart.tax;
                            discount = cart.priceDiscount;
                            shippingFee = cart.shippingFee;
                            promotionCode = cart.promotionCode;
                            totalQuantity = cart.totalQuantity;
                            foreach (var item in cart.item)
                            {
                                <!-- Item-->
                                <tr class="g-brd-bottom g-brd-gray-light-v3">
                                    <td class="text-left g-py-25">
                                        <img class="d-inline-block g-width-100 mr-4" src="@(imgUrl + (item.productThumbImage == null ? "b5aamndnqugqynwxzmm6" : item.productThumbImage))" alt="Image Description">
                                        <div class="d-inline-block align-middle">
                                            <h4 class="h6 g-color-black">@item.name</h4>
                                        </div>
                                    </td>
                                    <td class="g-color-gray-dark-v2 g-font-size-13">@item.displayPrice</td>
                                    <td>
                                        <div class="input-group u-quantity-v1 g-width-50 g-brd-primary--focus">
                                            <input class="form-control text-center g-font-size-13 rounded-0 g-pa-0" type="number" id="quantity-@item.productId" onchange="changeQuantity(@item.productId);" min="1" value="@item.quantity">
                                        </div>
                                    </td>
                                    <td class="text-right g-color-black">
                                        <span class="g-color-gray-dark-v2 g-font-size-13 mr-4">@item.totalPrice</span>
                                        <span class="g-color-gray-dark-v4 g-color-black--hover g-cursor-pointer" onclick="removeItemWithReload(@item.productId);">
                                            <i class="mt-auto fa fa-trash"></i>
                                        </span>
                                    </td>
                                </tr>
                                <!-- End Item-->
                            }
                        }

                        </tbody>
                    </table>
                </div>
                <!-- End Products Block -->
            </div>
            <div class="col-md-4 g-mb-30">
                <!-- Summary -->
                <div class="g-bg-gray-light-v5 g-pa-20 g-pb-50 mb-4">
                    <h4 class="h6 text-uppercase mb-3">Summary</h4>
                    <!-- Accordion -->
                    <div class="mb-4" role="tablist" aria-multiselectable="true">
                        <div class="g-brd-y g-brd-gray-light-v2 py-3" role="tab">
                            <h5 class="g-font-weight-400 g-font-size-default mb-0">
                                <a class="g-color-gray-dark-v4 g-text-underline--none--hover">
                                    Estimate shipping
                                </a>
                            </h5>
                            <br/>
                            <div class="d-flex justify-content-between mb-2">
                                <span class="g-color-black g-font-weight-300">Subtotal</span>
                                <span class="g-color-black g-font-weight-300">$@subTotal</span>
                            </div>
                            @if (discount > 0)
                            {
                                <div class="d-flex justify-content-between">
                                    <h6 class="g-color-black g-font-weight-200">Discout</h6>
                                    <h6 class="g-color-black g-font-weight-200">-$@discount</h6>
                                </div>
                            }
                            <div class="d-flex justify-content-between">
                                <h6 class="g-color-black g-font-weight-200">Shipping Fee</h6>
                                <h6 class="g-color-black g-font-weight-200">@(subTotal > 1000 ? "Free" : "$30")</h6>
                            </div>
                            <div class="d-flex justify-content-between">
                                <h6 class="g-color-black g-font-weight-200">Tax</h6>
                                @{
                                    tax = tax * (subTotal + shippingFee - discount);
                                    totalPrice = subTotal + shippingFee - discount + tax;
                                }
                                <h6 class="g-color-black g-font-weight-200">$@tax</h6>
                            </div>

                        </div>
                    </div>
                    <!-- End Accordion -->

                    <div class="d-flex justify-content-between">
                        <span class="g-color-black">Order Total</span>
                        <span class="g-color-black">$@totalPrice</span>
                    </div>
                </div>
                <!-- End Summary -->
                <button class="btn btn-block u-btn-outline-black g-brd-gray-light-v1 g-bg-black--hover g-font-size-13 text-uppercase g-py-15 mb-4" type="button">Update Shopping Cart</button>
                <button class="btn btn-block u-btn-primary g-font-size-13 text-uppercase g-py-15 mb-4" type="button" data-next-step="#step2">Proceed to Checkout</button>
                @{
                    var isNotDiscounted = string.IsNullOrEmpty(promotionCode);
                }

                <!-- Accordion -->
                <div id="accordion-02" role="tablist" aria-multiselectable="true">
                    <div id="accordion-02-heading-02" role="tab">
                        <h5 class="g-font-weight-400 g-font-size-default mb-0">
                            <a class="g-color-black g-text-underline--none--hover" href="#accordion-02-body-02" data-toggle="collapse" data-parent="#accordion-02" aria-expanded="false" aria-controls="accordion-02-body-02">
                                Apply discount code
                                <span class="ml-3 fa fa-angle-down"></span>
                            </a>
                        </h5>
                    </div>
                    <div id="accordion-02-body-02" class="collapse" role="tabpanel" aria-labelledby="accordion-02-heading-02">
                        <div class="input-group rounded g-pt-15">
                            <input class="form-control g-brd-gray-light-v1 g-brd-right-none g-color-gray-dark-v3 g-placeholder-gray-dark-v3" type="text" placeholder="Enter discount code" id="promotionCode" @(isNotDiscounted ? "" : "readonly") value="@promotionCode">
                            <span class="input-group-addon g-brd-gray-light-v1 g-bg-white">
                                <button class="btn u-btn-primary rounded" id="submitPromotion" type="button">@(isNotDiscounted ? "Apply" : "Remove Code")</button>
                            </span>
                        </div>
                    </div>
                </div>
                <!-- End Accordion -->
            </div>
        </div>
    </div>
    <!-- End Shopping Cart -->
    <!-- Shipping -->
    <div id="step2">
    <div class="row">
    <div class="col-md-8 g-mb-30">
        <div class="row">
            <div class="col-md-6 g-mb-20">
                <!-- Addresses -->
                <div class="g-brd-around g-brd-gray-light-v4 rounded g-pa-30">
                    <div class="g-mb-50">
                        <h3 class="h5 mb-3">
                            Address 1
                            <label class="u-ribbon-v1 g-color-white g-bg-primary rounded ml-3">Default</label>
                        </h3>
                        <span class="d-block g-color-gray-dark-v3 g-font-weight-600 mb-2">James Collins</span>
                        <!-- Address -->
                        <address class="media">
                            <div class="d-flex mr-3">
                                <span class="u-icon-v1 g-color-gray-dark-v4">
                                    <i class="icon-real-estate-027 u-line-icon-pro"></i>
                                </span>
                            </div>
                            <div class="media-body g-color-text">
                                <!--Address Line 1-->
                                9455 Ne Alderwood Rd
                                <br>
                                <!--Address Line 2-->
                                C/O Uzw-Fh Portland Oregon 97252
                                <br>
                                <!--City + Zip Code-->
                                Portland, Or 97252-1777
                                <br>
                                United Kingdom
                                <br>
                            </div>
                        </address>
                        <!-- End Address -->
                        <!-- Phone -->
                        <div class="media">
                            <div class="d-flex mr-3">
                                <span class="u-icon-v1 g-color-gray-dark-v4">
                                    <i class="icon-electronics-005 u-line-icon-pro"></i>
                                </span>
                            </div>
                            <div class="media-body g-color-text">
                                +(01) 503­-914­-6317
                            </div>
                        </div>
                        <!-- End Phone -->
                    </div>
                    <!-- Edit/Delete -->
                    <ul class="d-flex align-items-center list-inline mb-0">
                        <li class="list-inline-item">
                            <a class="u-icon-v1 g-font-size-16 g-text-underline--none--hover" href="#!" title="Edit"
                               data-toggle="tooltip"
                               data-placement="top">
                                <i class="icon-finance-023 u-line-icon-pro"></i>
                            </a>
                        </li>
                        <li class="list-inline-item g-width-1 g-height-16 g-bg-gray-light-v2 g-pr-1 ml-2 mr-3"></li>
                        <li class="list-inline-item">
                            <a class="u-icon-v1 g-font-size-16 g-text-underline--none--hover" href="#!" title="Delete"
                               data-toggle="tooltip"
                               data-placement="top">
                                <i class="icon-hotel-restaurant-214 u-line-icon-pro"></i>
                            </a>
                        </li>
                    </ul>
                    <!-- End Edit/Delete -->
                </div>
                <!-- End Addresses -->
            </div>
            <div class="col-md-6 g-mb-20">
                <!-- Addresses -->
                <div class="g-brd-around g-brd-gray-light-v4 rounded g-pa-30">
                    <div class="g-mb-50">
                        <h3 class="h5 mb-3">Address 2</h3>
                        <span class="d-block g-color-gray-dark-v3 g-font-weight-600 mb-2">James Collins</span>
                        <!-- Address -->
                        <address class="media">
                            <div class="d-flex mr-3">
                                <span class="u-icon-v1 g-color-gray-dark-v4">
                                    <i class="icon-real-estate-027 u-line-icon-pro"></i>
                                </span>
                            </div>
                            <div class="media-body g-color-text">
                                2091 Parkson
                                <br>
                                New York Avenue 2309
                                <br>
                                New York, Or 2309-1777
                                <br>
                                United States
                                <br>
                            </div>
                        </address>
                        <!-- End Address -->
                        <!-- Phone -->
                        <div class="media">
                            <div class="d-flex mr-3">
                                <span class="u-icon-v1 g-color-gray-dark-v4">
                                    <i class="icon-electronics-005 u-line-icon-pro"></i>
                                </span>
                            </div>
                            <div class="media-body g-color-text">
                                +(01) 401-542-2900
                            </div>
                        </div>
                        <!-- End Phone -->
                    </div>
                    <!-- Edit/Delete -->
                    <ul class="d-flex align-items-center list-inline mb-0">
                        <li class="list-inline-item">
                            <a class="u-icon-v1 g-font-size-16 g-text-underline--none--hover" href="#!" title="Edit"
                               data-toggle="tooltip"
                               data-placement="top">
                                <i class="icon-finance-023 u-line-icon-pro"></i>
                            </a>
                        </li>
                        <li class="list-inline-item g-width-1 g-height-16 g-bg-gray-light-v2 g-pr-1 ml-2 mr-3"></li>
                        <li class="list-inline-item">
                            <a class="u-icon-v1 g-font-size-16 g-text-underline--none--hover" href="#!" title="Delete"
                               data-toggle="tooltip"
                               data-placement="top">
                                <i class="icon-hotel-restaurant-214 u-line-icon-pro"></i>
                            </a>
                        </li>
                        <li class="list-inline-item g-width-1 g-height-16 g-bg-gray-light-v2 g-pr-1 ml-2 mr-3"></li>
                        <li class="list-inline-item">
                            <label class="form-check-inline u-check d-block u-link-v5 g-color-text g-pl-30 mb-0">
                                <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" type="checkbox">
                                <span class="d-block u-check-icon-checkbox-v4 g-absolute-centered--y g-left-0">
                                    <i class="fa" data-check-icon="&#xf00c"></i>
                                </span>
                                Set as Default
                            </label>
                        </li>
                    </ul>
                    <!-- End Edit/Delete -->
                </div>
                <!-- End Addresses -->
            </div>
        </div>
        <!-- Contact Form -->
        <div class="g-brd-around g-brd-gray-light-v4 rounded g-pa-30 g-mb-20">
            <h3 class="h5 mb-3">Add Address</h3>
            <div class="row">
                <div class="col-sm-6 form-group g-mb-20">
                    <label class="g-color-text g-font-size-13">Address Line 1</label>
                    <input id="inputAddressLine1" class="form-control u-form-control g-brd-gray-light-v4 g-brd-primary--focus g-color-text rounded g-py-13 g-px-15" type="text" name="inputAddressLine1" placeholder="Address Line 1" required data-msg="This field cannot be null" data-error-class="u-has-error-v1" data-success-class="u-has-success-v1">
                </div>
                <div class="col-sm-6 form-group g-mb-20">
                    <label class="g-color-text g-font-size-13">Address Line 2</label>
                    <input id="inputAddressLine2" class="form-control u-form-control g-brd-gray-light-v4 g-brd-primary--focus g-color-text rounded g-py-13 g-px-15" type="text" name="inputAddressLine2" placeholder="Address Line 2" data-error-class="u-has-error-v1" data-success-class="u-has-success-v1">
                </div>
                <div class="col-sm-6 form-group g-mb-20">
                    <label class="g-color-text g-font-size-13">City</label>
                    <input id="inputCity" class="form-control u-form-control g-brd-gray-light-v4 g-brd-primary--focus g-color-text rounded g-py-13 g-px-15" type="text" placeholder="City" name="inputCity" required data-msg="This field cannot be null" data-error-class="u-has-error-v1" data-success-class="u-has-success-v1">
                </div>
                <div class="col-sm-6 form-group g-mb-20">
                    <label class="g-color-text g-font-size-13">Zip Code</label>
                    <input id="inputZipCode" class="form-control u-form-control g-brd-gray-light-v4 g-brd-primary--focus g-color-text rounded g-py-13 g-px-15" type="text" placeholder="Zip Code" name="inputZipCode" required data-msg="This field cannot be null" data-error-class="u-has-error-v1" data-success-class="u-has-success-v1">
                </div>
                <div class="col-sm-6 form-group g-mb-20">
                    <label class="g-color-text g-font-size-13">Full Name</label>
                    <input id="inputFullName" class="form-control u-form-control g-brd-gray-light-v4 g-brd-primary--focus g-color-text rounded g-py-13 g-px-15" type="text" placeholder="Full Name" name="inputFullName" required data-msg="This field cannot be null" data-error-class="u-has-error-v1" data-success-class="u-has-success-v1">
                </div>
                <div class="col-sm-6 form-group g-mb-20">
                    <label class="g-color-text g-font-size-13">Phone</label>
                    <input id="inputPhone" class="form-control u-form-control g-brd-gray-light-v4 g-brd-primary--focus g-color-text rounded g-py-13 g-px-15" type="text" placeholder="Phone" name="inputPhone" required data-msg="This field cannot be null" data-error-class="u-has-error-v1" data-success-class="u-has-success-v1">
                </div>
                <div class="col-sm-6 form-group g-mb-20">
                    <button class="btn u-btn-primary g-font-size-12 text-uppercase g-py-12 g-px-25" type="button">Add Address</button>
                </div>
            </div>
            </div>
        <!-- End Contact Form -->
        <button class="btn u-btn-primary g-font-size-13 text-uppercase g-px-40 g-py-15" type="button" data-next-step="#step3">Proceed to Payment</button>
    </div>

    <div class="col-md-4 g-mb-30">
        <!-- Order Summary -->
        <div class="g-bg-gray-light-v5 g-pa-20 g-pb-50 mb-4">
            <h4 class="h6 text-uppercase mb-3">Order summary</h4>
            <!-- Accordion -->
            <div id="accordion-03" class="mb-4" role="tablist" aria-multiselectable="true">
                <div id="accordion-03-heading-03" class="g-brd-y g-brd-gray-light-v2 py-3" role="tab">
                    <h5 class="g-font-weight-400 g-font-size-default mb-0">
                        <a class="g-color-gray-dark-v4 g-text-underline--none--hover" href="#accordion-03-body-03" data-toggle="collapse" data-parent="#accordion-03" aria-expanded="false" aria-controls="accordion-03-body-03">
                            @totalQuantity item@(totalQuantity > 0 ? "s" : "") in cart
                            <span class="ml-3 fa fa-angle-down"></span>
                        </a>
                    </h5>
                </div>
                <div id="accordion-03-body-03" class="collapse" role="tabpanel" aria-labelledby="accordion-03-heading-03">
                    <div class="g-py-15">
                        <ul class="list-unstyled mb-3">
                            <!-- Product -->
                            <li class="d-flex justify-content-start">
                                <img class="g-width-100 g-height-100 mr-3" src="assets/img-temp/150x150/img6.jpg" alt="Image Description">
                                <div class="d-block">
                                    <h4 class="h6 g-color-black">Sneaker</h4>
                                    <ul class="list-unstyled g-color-gray-dark-v4 g-font-size-12 g-line-height-1_4 mb-1">
                                        <li>Color: Black</li>
                                        <li>Size: MD</li>
                                        <li>QTY: 1</li>
                                    </ul>
                                    <span class="d-block g-color-black g-font-weight-400">$ 87.00</span>
                                </div>
                            </li>
                            <!-- End Product -->
                            <!-- Product -->
                            <li class="d-flex justify-content-start g-brd-top g-brd-gray-light-v3 pt-4 mt-4">
                                <img class="g-width-100 g-height-100 mr-3" src="assets/img-temp/150x150/img3.jpg" alt="Image Description">
                                <div class="d-block">
                                    <h4 class="h6 g-color-black">Chukka Shoes</h4>
                                    <ul class="list-unstyled g-color-gray-dark-v4 g-font-size-12 g-line-height-1_4 mb-1">
                                        <li>Color: Black</li>
                                        <li>Size: MD</li>
                                        <li>QTY: 2</li>
                                    </ul>
                                    <span class="d-block g-color-black g-font-weight-400">$ 160.00</span>
                                </div>
                            </li>
                            <!-- End Product -->
                            <!-- Product -->
                            <li class="d-flex justify-content-start g-brd-top g-brd-gray-light-v3 pt-4 mt-4">
                                <img class="g-width-100 g-height-100 mr-3" src="assets/img-temp/150x150/img7.jpg" alt="Image Description">
                                <div class="d-block">
                                    <h4 class="h6 g-color-black">Desk Clock</h4>
                                    <ul class="list-unstyled g-color-gray-dark-v4 g-font-size-12 g-line-height-1_4 mb-1">
                                        <li>Color: Brown Wood</li>
                                        <li>Type: Desk</li>
                                        <li>QTY: 1</li>
                                    </ul>
                                    <span class="d-block g-color-black g-font-weight-400">$ 47.00</span>
                                </div>
                            </li>
                            <!-- End Product -->
                        </ul>
                    </div>
                </div>
            </div>
            <!-- End Accordion -->
            <div class="d-flex justify-content-between mb-2">
                <span class="g-color-black">Subtotal</span>
                <span class="g-color-black g-font-weight-300">$454.00</span>
            </div>
            <div class="d-flex justify-content-between">
                <span class="g-color-black">Order Total</span>
                <span class="g-color-black g-font-weight-300">$459.5</span>
            </div>
        </div>
        <!-- End Order Summary -->
    </div>
    </div>
    </div>
    <!-- End Shipping -->
    <!-- Payment & Review -->
    <div id="step3">
        <div class="row">
            <div class="col-md-8 g-mb-30">
                <!-- Payment Methods -->
                <ul class="list-unstyled mb-5">
                    <li class="g-brd-bottom g-brd-gray-light-v3 pb-3 my-3">
                        <label class="form-check-inline u-check d-block u-link-v5 g-color-gray-dark-v4 g-color-primary--hover g-pl-30">
                            <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_1" type="radio">
                            <span class="d-block u-check-icon-checkbox-v4 g-absolute-centered--y g-left-0">
                                <i class="fa" data-check-icon="&#xf00c"></i>
                            </span>
                            Pay with
                            <img class="g-width-70 ml-2" src="assets/img-temp/200x55/img1.jpg" alt="Image Description">
                        </label>
                    </li>
                    <li class="my-3">
                        <label class="form-check-inline u-check d-block u-link-v5 g-color-gray-dark-v4 g-color-primary--hover g-pl-30">
                            <input class="g-hidden-xs-up g-pos-abs g-top-0 g-left-0" name="radInline1_1" type="radio" checked>
                            <span class="d-block u-check-icon-checkbox-v4 g-absolute-centered--y g-left-0">
                                <i class="fa" data-check-icon="&#xf00c"></i>
                            </span>
                            Pay with Credit Card
                            <img class="g-width-50 ml-2" src="assets/img-temp/200x55/img2.jpg" alt="Image Description">
                        </label>
                    </li>
                </ul>
                <!-- End Payment Methods -->
                <!-- Alert -->
                <div class="alert g-brd-around g-brd-gray-dark-v5 rounded-0 g-pa-0 mb-4" role="alert">
                    <div class="media">
                        <div class="d-flex g-brd-right g-brd-gray-dark-v5 g-pa-15">
                            <span class="u-icon-v1 u-icon-size--xs g-color-black">
                                <i class="align-middle icon-media-065 u-line-icon-pro"></i>
                            </span>
                        </div>
                        <div class="media-body g-pa-15">
                            <p class="g-color-black m-0">My billing and shipping address are the correct</p>
                        </div>
                    </div>
                </div>
                <!-- End Alert -->
                <!-- Shipping Details -->
                <ul class="list-unstyled g-color-gray-dark-v4 g-font-size-15 g-pl-70 mb-5">
                    <li class="g-my-3">Chester Ryan</li>
                    <li class="g-my-3">chester@gmail.com</li>
                    <li class="g-my-3">51 Hailee Park</li>
                    <li class="g-my-3">New York, NY, 10013</li>
                    <li class="g-my-3">AB123</li>
                    <li class="g-my-3">United States</li>
                    <li class="g-my-3">+01 731 878 77</li>
                </ul>
                <!-- End Shipping Details -->
                <div class="g-brd-bottom g-brd-gray-light-v3 g-pb-30 g-mb-30">
                    <div class="text-right">
                        <button class="btn u-btn-primary g-font-size-13 text-uppercase g-px-40 g-py-15" type="button">Make Payment</button>
                    </div>
                </div>
                <!-- Accordion -->
                <div id="accordion-04" class="g-max-width-300" role="tablist" aria-multiselectable="true">
                    <div id="accordion-04-heading-04" role="tab">
                        <h5 class="h6 text-uppercase mb-0">
                            <a class="g-color-black g-text-underline--none--hover" href="#accordion-04-body-04" data-toggle="collapse" data-parent="#accordion-04" aria-expanded="false" aria-controls="accordion-04-body-04">
                                Apply discount code
                                <span class="ml-3 fa fa-angle-down"></span>
                            </a>
                        </h5>
                    </div>
                    <div id="accordion-04-body-04" class="collapse" role="tabpanel" aria-labelledby="accordion-04-heading-04">
                        <div class="input-group rounded g-pt-15">
                            <input class="form-control g-brd-gray-light-v1 g-brd-right-none g-color-gray-dark-v3 g-placeholder-gray-dark-v3" type="email" placeholder="Enter discount code">
                            <span class="input-group-addon g-brd-gray-light-v1 g-bg-white">
                                <button class="btn u-btn-primary rounded" type="submit">Apply</button>
                            </span>
                        </div>
                    </div>
                </div>
                <!-- End Accordion -->
            </div>
            <div class="col-md-4 g-mb-30">
                <!-- Order Summary -->
                <div class="g-bg-gray-light-v5 g-pa-20 g-pb-50 mb-4">
                    <div class="g-brd-bottom g-brd-gray-light-v3 g-mb-15">
                        <h4 class="h6 text-uppercase mb-3">Order summary</h4>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span class="g-color-black">Cart Subtotal</span>
                        <span class="g-color-black g-font-weight-300">$454.00</span>
                    </div>
                    <div class="mb-3">
                        <div class="d-flex justify-content-between mb-1">
                            <span class="g-color-black">Shipping</span>
                            <span class="g-color-black g-font-weight-300">$5.5</span>
                        </div>
                        <p class="g-font-size-13">UK Standard Delivery - 2-3 Working Days</p>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span class="g-color-black">Order Total</span>
                        <span class="g-color-black g-font-weight-300">$459.5</span>
                    </div>
                    <!-- Accordion -->
                    <div id="accordion-05" class="mb-4" role="tablist" aria-multiselectable="true">
                        <div id="accordion-05-heading-05" class="g-brd-y g-brd-gray-light-v2 py-3" role="tab">
                            <h5 class="g-font-weight-400 g-font-size-default mb-0">
                                <a class="g-color-gray-dark-v4 g-text-underline--none--hover" href="#accordion-05-body-05" data-toggle="collapse" data-parent="#accordion-05" aria-expanded="false" aria-controls="accordion-05-body-05">
                                    3 items in cart
                                    <span class="ml-3 fa fa-angle-down"></span>
                                </a>
                            </h5>
                        </div>
                        <div id="accordion-05-body-05" class="collapse" role="tabpanel" aria-labelledby="accordion-05-heading-05">
                            <div class="g-py-15">
                                <ul class="list-unstyled mb-3">
                                    <!-- Product -->
                                    <li class="d-flex justify-content-start">
                                        <img class="g-width-100 g-height-100 mr-3" src="assets/img-temp/150x150/img6.jpg" alt="Image Description">
                                        <div class="d-block">
                                            <h4 class="h6 g-color-black">Sneaker</h4>
                                            <ul class="list-unstyled g-color-gray-dark-v4 g-font-size-12 g-line-height-1_4 mb-1">
                                                <li>Color: Black</li>
                                                <li>Size: MD</li>
                                                <li>QTY: 1</li>
                                            </ul>
                                            <span class="d-block g-color-black g-font-weight-400">$ 87.00</span>
                                        </div>
                                    </li>
                                    <!-- End Product -->
                                    <!-- Product -->
                                    <li class="d-flex justify-content-start g-brd-top g-brd-gray-light-v3 pt-4 mt-4">
                                        <img class="g-width-100 g-height-100 mr-3" src="assets/img-temp/150x150/img3.jpg" alt="Image Description">
                                        <div class="d-block">
                                            <h4 class="h6 g-color-black">Chukka Shoes</h4>
                                            <ul class="list-unstyled g-color-gray-dark-v4 g-font-size-12 g-line-height-1_4 mb-1">
                                                <li>Color: Black</li>
                                                <li>Size: MD</li>
                                                <li>QTY: 2</li>
                                            </ul>
                                            <span class="d-block g-color-black g-font-weight-400">$ 160.00</span>
                                        </div>
                                    </li>
                                    <!-- End Product -->
                                    <!-- Product -->
                                    <li class="d-flex justify-content-start g-brd-top g-brd-gray-light-v3 pt-4 mt-4">
                                        <img class="g-width-100 g-height-100 mr-3" src="assets/img-temp/150x150/img7.jpg" alt="Image Description">
                                        <div class="d-block">
                                            <h4 class="h6 g-color-black">Desk Clock</h4>
                                            <ul class="list-unstyled g-color-gray-dark-v4 g-font-size-12 g-line-height-1_4 mb-1">
                                                <li>Color: Brown Wood</li>
                                                <li>Type: Desk</li>
                                                <li>QTY: 1</li>
                                            </ul>
                                            <span class="d-block g-color-black g-font-weight-400">$ 47.00</span>
                                        </div>
                                    </li>
                                    <!-- End Product -->
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- End Accordion -->
                </div>
                <!-- End Order Summary -->
                <!-- Ship To -->
                <div class="g-px-20 mb-5">
                    <div class="d-flex justify-content-between g-brd-bottom g-brd-gray-light-v3 g-mb-15">
                        <h4 class="h6 text-uppercase mb-3">Ship to</h4>
                        <span class="g-color-gray-dark-v4 g-color-black--hover g-cursor-pointer">
                            <i class="fa fa-pencil"></i>
                        </span>
                    </div>
                    <ul class="list-unstyled g-color-gray-dark-v4 g-font-size-15">
                        <li class="g-my-3">Chester Ryan</li>
                        <li class="g-my-3">chester@gmail.com</li>
                        <li class="g-my-3">51 Hailee Park</li>
                        <li class="g-my-3">New York, NY, 10013</li>
                        <li class="g-my-3">AB123</li>
                        <li class="g-my-3">United States</li>
                        <li class="g-my-3">+01 731 878 77</li>
                    </ul>
                </div>
                <!-- End Ship To -->
                <!-- Shipping Method -->
                <div class="g-px-20 mb-5">
                    <div class="d-flex justify-content-between g-brd-bottom g-brd-gray-light-v3 g-mb-15">
                        <h4 class="h6 text-uppercase mb-3">Shipping Method</h4>
                        <span class="g-color-gray-dark-v4 g-color-black--hover g-cursor-pointer">
                            <i class="fa fa-pencil"></i>
                        </span>
                    </div>
                    <p class="g-color-gray-dark-v4 g-font-size-15">UK Standard Delivery - 2-3 Working Days</p>
                </div>
                <!-- End Shipping Method -->
            </div>
        </div>
    </div>
    <!-- End Payment & Review -->
    </div>
    </form>
    </div>
    <!-- End Checkout Form -->
}



@section Styles
{
    <link rel="stylesheet" href="~/html/assets/vendor/icon-line/css/simple-line-icons.css">
    <link rel="stylesheet" href="~/html/assets/vendor/chosen/chosen.css">
}

@section Scripts
{
    <script src="~/html/assets/vendor/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/html/assets/vendor/chosen/chosen.jquery.js"></script>
    <script src="~/html/assets/vendor/image-select/src/ImageSelect.jquery.js"></script>
    <script src="~/html/assets/js/components/hs.select.js"></script>
    <script src="~/html/assets/js/components/hs.step-form.js"></script>
    <script src="~/html/assets/js/components/hs.validation.js"></script>

    <script type="text/javascript">
        $.HSCore.components.HSValidation.init('.js-validate');

        $.HSCore.components.HSSelect.init('.js-custom-select');

        $.HSCore.components.HSStepForm.init('.js-step-form');
    </script>

    <script type="text/javascript">
        function removeItemWithReload(id) {
            var anonymousId = getCookie("AnonymousId");
            $.ajax({
                url: 'http://localhost:5000/' +
                    'api/cart/RemoveCartItem?customerId=' +
                    anonymousId +
                    '&productId=' +
                    id,
                type: "get",
                beforeSend: function(request) {
                    request.setRequestHeader("Authorization", "Bearer " + getCookie("jwt"));
                },
                success: function(val) {
                    location.reload();
                }
            });
        }

        function changeQuantity(id) {
            var quantity = $('#quantity-' + id).val();
            var anonymousId = getCookie("AnonymousId");
            $.ajax({
                url: 'http://localhost:5000/' +
                    'api/cart/UpdateCartDetail?customerId=' +
                    anonymousId +
                    '&productId=' +
                    id +
                    '&quantity=' +
                    quantity,
                type: "get",
                beforeSend: function(request) {
                    request.setRequestHeader("Authorization", "Bearer " + getCookie("jwt"));
                },
                success: function(val) {
                    if (val.status == "Success") {
                        $.notify({
                                title: '<strong>Update quantity product successful!</strong>',
                                icon: 'glyphicon glyphicon-star',
                                message: val.message
                            },
                            {
                                type: 'success',
                                animate: {
                                    enter: 'animated fadeInUp',
                                    exit: 'animated fadeOutRight'
                                },
                                placement: {
                                    from: "top",
                                    align: "right"
                                },
                                offset: 20,
                                spacing: 10,
                                z_index: 1031,
                                delay: 2000,
                                showProgressbar: true,
                                allow_dismiss: true,
                                newest_on_top: false
                            });

                        setTimeout(location.reload.bind(location), 2000);
                    } else {
                        $.notify({
                                title: '<strong>Update quantity product failed!</strong>',
                                icon: 'glyphicon glyphicon-star',
                                message: val.message
                            },
                            {
                                type: 'danger',
                                animate: {
                                    enter: 'animated fadeInUp',
                                    exit: 'animated fadeOutRight'
                                },
                                placement: {
                                    from: "top",
                                    align: "right"
                                },
                                offset: 20,
                                spacing: 10,
                                z_index: 1031,
                                delay: 2000,
                                showProgressbar: true,
                                allow_dismiss: true,
                                newest_on_top: false
                            });
                        setTimeout(location.reload.bind(location), 2000);
                    }
                }
            });
        }

        $('#submitPromotion').click(function() {
            var promotion = $('#promotionCode').val();
            if ($('#submitPromotion').text() == 'Apply') {
                var anonymousId = getCookie("AnonymousId");
                $.ajax({
                    url: 'http://localhost:5000/' +
                        'api/promotion/AddPromotionToCart?customerId=' +
                        anonymousId +
                        '&code=' +
                        promotion,
                    type: "get",
                    beforeSend: function(request) {
                        request.setRequestHeader("Authorization", "Bearer " + getCookie("jwt"));
                    },
                    success: function(val) {
                        if (val.status == "Success") {
                            $.notify({
                                    title: '<strong>Apply promotion code for cart successful!</strong>',
                                    icon: 'glyphicon glyphicon-star',
                                    message: val.message
                                },
                                {
                                    type: 'success',
                                    animate: {
                                        enter: 'animated fadeInUp',
                                        exit: 'animated fadeOutRight'
                                    },
                                    placement: {
                                        from: "top",
                                        align: "right"
                                    },
                                    offset: 20,
                                    spacing: 10,
                                    z_index: 1031,
                                    delay: 2000,
                                    showProgressbar: true,
                                    allow_dismiss: true,
                                    newest_on_top: false
                                });

                            setTimeout(location.reload.bind(location), 2000);
                        } else {
                            $.notify({
                                    title: '<strong>Apply promotion code for cart failed!</strong>',
                                    icon: 'glyphicon glyphicon-star',
                                    message: val.message
                                },
                                {
                                    type: 'danger',
                                    animate: {
                                        enter: 'animated fadeInUp',
                                        exit: 'animated fadeOutRight'
                                    },
                                    placement: {
                                        from: "top",
                                        align: "right"
                                    },
                                    offset: 20,
                                    spacing: 10,
                                    z_index: 1031,
                                    delay: 2000,
                                    showProgressbar: true,
                                    allow_dismiss: true,
                                    newest_on_top: false
                                });
                            setTimeout(location.reload.bind(location), 2000);
                        }
                    }
                });
            } else {
                var anonymousId = getCookie("AnonymousId");
                $.ajax({
                    url: 'http://localhost:5000/' +
                        'api/promotion/RemovePromotionFromCart?customerId=' +
                        anonymousId +
                        '&code=' +
                        promotion,
                    type: "get",
                    beforeSend: function(request) {
                        request.setRequestHeader("Authorization", "Bearer " + getCookie("jwt"));
                    },
                    success: function(val) {
                        if (val.status == "Success") {
                            $.notify({
                                    title: '<strong>Remove promotion code for cart successful!</strong>',
                                    icon: 'glyphicon glyphicon-star',
                                    message: val.message
                                },
                                {
                                    type: 'success',
                                    animate: {
                                        enter: 'animated fadeInUp',
                                        exit: 'animated fadeOutRight'
                                    },
                                    placement: {
                                        from: "top",
                                        align: "right"
                                    },
                                    offset: 20,
                                    spacing: 10,
                                    z_index: 1031,
                                    delay: 2000,
                                    showProgressbar: true,
                                    allow_dismiss: true,
                                    newest_on_top: false
                                });

                            setTimeout(location.reload.bind(location), 2000);
                        } else {
                            $.notify({
                                    title: '<strong>Remove promotion code for cart failed!</strong>',
                                    icon: 'glyphicon glyphicon-star',
                                    message: val.message
                                },
                                {
                                    type: 'danger',
                                    animate: {
                                        enter: 'animated fadeInUp',
                                        exit: 'animated fadeOutRight'
                                    },
                                    placement: {
                                        from: "top",
                                        align: "right"
                                    },
                                    offset: 20,
                                    spacing: 10,
                                    z_index: 1031,
                                    delay: 2000,
                                    showProgressbar: true,
                                    allow_dismiss: true,
                                    newest_on_top: false
                                });
                            setTimeout(location.reload.bind(location), 2000);
                        }
                    }
                });
            }
        });
    </script>
}